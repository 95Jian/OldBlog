{"remainingRequest":"D:\\finalProject3\\Blog\\blog-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\finalProject3\\Blog\\blog-view\\src\\views\\home\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\finalProject3\\Blog\\blog-view\\src\\views\\home\\Home.vue","mtime":1724679300488},{"path":"D:\\finalProject3\\Blog\\blog-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724724441697},{"path":"D:\\finalProject3\\Blog\\blog-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1724724441850},{"path":"D:\\finalProject3\\Blog\\blog-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1724724441697},{"path":"D:\\finalProject3\\Blog\\blog-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1724724440346}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IEJsb2dMaXN0IGZyb20gIkAvY29tcG9uZW50cy9ibG9nL0Jsb2dMaXN0IjsNCglpbXBvcnQge2dldEJsb2dMaXN0fSBmcm9tICJAL2FwaS9ob21lIjsNCglpbXBvcnQge1NFVF9JU19CTE9HX1RPX0hPTUV9IGZyb20gIi4uLy4uL3N0b3JlL211dGF0aW9ucy10eXBlcyI7DQoNCglleHBvcnQgZGVmYXVsdCB7DQoJCW5hbWU6ICJIb21lIiwNCgkJY29tcG9uZW50czoge0Jsb2dMaXN0fSwNCgkJZGF0YSgpIHsNCgkJCXJldHVybiB7DQoJCQkJYmxvZ0xpc3Q6IFtdLA0KCQkJCXRvdGFsUGFnZTogMCwNCgkJCQlnZXRCbG9nTGlzdEZpbmlzaDogZmFsc2UNCgkJCX0NCgkJfSwNCgkJYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgew0KCQkJbmV4dCh2bSA9PiB7DQoJCQkJaWYgKGZyb20ubmFtZSAhPT0gJ2Jsb2cnKSB7DQoJCQkJCS8v5YW25a6D6aG16Z2i6Lez6L2s5Yiw6aaW6aG15pe277yM6YeN5paw6K+35rGC5pWw5o2uDQoJCQkJCS8v6K6+572u5LiA5LiqZmxhZ++8jOiuqemmlumhteeahOWIhumhtee7hOS7tuaMh+WQkeato+ehrueahOmhteeggQ0KCQkJCQl2bS4kc3RvcmUuY29tbWl0KFNFVF9JU19CTE9HX1RPX0hPTUUsIGZhbHNlKQ0KCQkJCQl2bS5nZXRCbG9nTGlzdCgpDQoJCQkJfSBlbHNlIHsNCgkJCQkJLy/lpoLmnpzmlofnq6DpobXpnaLmmK/otbflp4vorr/pl67pobXvvIzpppbpobXlsIbmmK/nrKzkuIDmrKHov5vlhaXvvIzljbPnvJPlrZjkuI3lrZjlnKjvvIzopoHor7fmsYLmlbDmja4NCgkJCQkJaWYgKCF2bS5nZXRCbG9nTGlzdEZpbmlzaCkgew0KCQkJCQkJdm0uZ2V0QmxvZ0xpc3QoKQ0KCQkJCQl9DQoJCQkJCS8v5LuO5paH56ug6aG16Z2i6Lez6L2s5Yiw6aaW6aG15pe277yM5L2/55So6aaW6aG157yT5a2YDQoJCQkJCXZtLiRzdG9yZS5jb21taXQoU0VUX0lTX0JMT0dfVE9fSE9NRSwgdHJ1ZSkNCgkJCQl9DQoJCQl9KQ0KCQl9LA0KCQltZXRob2RzOiB7DQoJCQlnZXRCbG9nTGlzdChwYWdlTnVtKSB7DQoJCQkJZ2V0QmxvZ0xpc3QocGFnZU51bSkudGhlbihyZXMgPT4gew0KCQkJCQlpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KCQkJCQkJdGhpcy5ibG9nTGlzdCA9IHJlcy5kYXRhLmxpc3QNCgkJCQkJCXRoaXMudG90YWxQYWdlID0gcmVzLmRhdGEudG90YWxQYWdlDQoJCQkJCQl0aGlzLiRuZXh0VGljaygoKSA9PiB7DQoJCQkJCQkJUHJpc20uaGlnaGxpZ2h0QWxsKCkNCgkJCQkJCX0pDQoJCQkJCQl0aGlzLmdldEJsb2dMaXN0RmluaXNoID0gdHJ1ZQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJdGhpcy5tc2dFcnJvcihyZXMubXNnKQ0KCQkJCQl9DQoJCQkJfSkuY2F0Y2goKCkgPT4gew0KCQkJCQl0aGlzLm1zZ0Vycm9yKCLor7fmsYLlpLHotKUiKQ0KCQkJCX0pDQoJCQl9DQoJCX0NCgl9DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<BlogList :getBlogList=\"getBlogList\" :blogList=\"blogList\" :totalPage=\"totalPage\"/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport BlogList from \"@/components/blog/BlogList\";\r\n\timport {getBlogList} from \"@/api/home\";\r\n\timport {SET_IS_BLOG_TO_HOME} from \"../../store/mutations-types\";\r\n\r\n\texport default {\r\n\t\tname: \"Home\",\r\n\t\tcomponents: {BlogList},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tblogList: [],\r\n\t\t\t\ttotalPage: 0,\r\n\t\t\t\tgetBlogListFinish: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t\tnext(vm => {\r\n\t\t\t\tif (from.name !== 'blog') {\r\n\t\t\t\t\t//其它页面跳转到首页时，重新请求数据\r\n\t\t\t\t\t//设置一个flag，让首页的分页组件指向正确的页码\r\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, false)\r\n\t\t\t\t\tvm.getBlogList()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//如果文章页面是起始访问页，首页将是第一次进入，即缓存不存在，要请求数据\r\n\t\t\t\t\tif (!vm.getBlogListFinish) {\r\n\t\t\t\t\t\tvm.getBlogList()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//从文章页面跳转到首页时，使用首页缓存\r\n\t\t\t\t\tvm.$store.commit(SET_IS_BLOG_TO_HOME, true)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetBlogList(pageNum) {\r\n\t\t\t\tgetBlogList(pageNum).then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.blogList = res.data.list\r\n\t\t\t\t\t\tthis.totalPage = res.data.totalPage\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tPrism.highlightAll()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getBlogListFinish = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.msgError(res.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.msgError(\"请求失败\")\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}